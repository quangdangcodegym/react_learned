{"ast":null,"code":"var _jsxFileName = \"D:\\\\CODEGYM\\\\CODEGYM\\\\REACTJS\\\\duonghuuthanh\\\\demoapp\\\\src\\\\DemoRouterUseSearchParam.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Link, useParams, useSearchParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst DemoRouterUseSearchParam = () => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const [kw, setKw] = useState(\"\");\n  const [counter, setCounter] = useState(0); // Sử dụng hook useSearchParams để lấy thông tin trên đường dẫn\n  // let kw = q.get(\"kw\")lấy kw thông qua object\n\n  const [q] = useSearchParams();\n  useEffect(() => {\n    // Ở đây nó sẽ gọi hàm random liên tục\n    // console.log(Math.random())\n    fetch(\"data.json\").then(res => res.json()).then(data => {\n      let kw = q.get(\"kw\");\n\n      if (kw != null) {\n        setUsers(data.filter(u => u.name.indexOf(kw) >= 0));\n      } else {\n        setUsers(data);\n      }\n    }); // Nếu dependecies là 1 State kw, nếu giá trị của state thay đổi thì hàm useEffect sẽ được gọi lại\n  }, [kw]);\n  useEffect(() => {\n    let timer = setTimeout(() => setCounter(counter + 1), 1000); // CẦN chú ý để sử dụng cho hợp lý\n\n    return () => {\n      console.log(\"CLEANUP FUNCTION: \" + Math.random());\n      clearTimeout(timer);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Counter: \", counter]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: kw,\n      onChange: evt => setKw(evt.target.value),\n      placeholder: \"Enter keyword...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: users.map(u => {\n        let url = `/demo2/${u.id}`;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: url,\n            children: u.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this)\n        }, u.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(DemoRouterUseSearchParam, \"+9mK7STvgNbVrTG54D7i3FzyIq4=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = DemoRouterUseSearchParam;\nexport default DemoRouterUseSearchParam;\n\nvar _c;\n\n$RefreshReg$(_c, \"DemoRouterUseSearchParam\");","map":{"version":3,"names":["useState","useEffect","Link","useParams","useSearchParams","DemoRouterUseSearchParam","users","setUsers","kw","setKw","counter","setCounter","q","fetch","then","res","json","data","get","filter","u","name","indexOf","timer","setTimeout","console","log","Math","random","clearTimeout","evt","target","value","map","url","id"],"sources":["D:/CODEGYM/CODEGYM/REACTJS/duonghuuthanh/demoapp/src/DemoRouterUseSearchParam.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Link, useParams, useSearchParams } from \"react-router-dom\";\r\n\r\n\r\nconst DemoRouterUseSearchParam = ()=>{\r\n    const [users, setUsers] = useState([])\r\n    const [kw, setKw] = useState(\"\");\r\n    const [counter, setCounter] = useState(0);\r\n\r\n\r\n    // Sử dụng hook useSearchParams để lấy thông tin trên đường dẫn\r\n    // let kw = q.get(\"kw\")lấy kw thông qua object\r\n    const [q] = useSearchParams();\r\n    \r\n    useEffect(()=>{\r\n        // Ở đây nó sẽ gọi hàm random liên tục\r\n        // console.log(Math.random())\r\n        fetch(\"data.json\").then(res=> res.json()).then(data=> {\r\n            let kw = q.get(\"kw\");\r\n            if(kw!=null){\r\n                setUsers(data.filter(u=>u.name.indexOf(kw)>=0))\r\n            }else{\r\n                setUsers(data)\r\n            }\r\n        })\r\n\r\n        // Nếu dependecies là 1 State kw, nếu giá trị của state thay đổi thì hàm useEffect sẽ được gọi lại\r\n    }, [kw]);\r\n    useEffect(()=>{\r\n        let timer = setTimeout(()=> setCounter(counter+1), 1000);\r\n        // CẦN chú ý để sử dụng cho hợp lý\r\n        return ()=>{\r\n            console.log(\"CLEANUP FUNCTION: \" + Math.random());\r\n            clearTimeout(timer)\r\n        }\r\n    })\r\n    return (\r\n        <>\r\n            <h1>Counter: {counter}</h1>\r\n            <input type=\"text\" value={kw} onChange={evt=> setKw(evt.target.value)}\r\n                placeholder=\"Enter keyword...\"\r\n            ></input>\r\n            <ul>\r\n                {users.map(u=> {\r\n                    let url = `/demo2/${u.id}`\r\n                    return <li key={u.id}>\r\n                        <Link to={url}>{u.name}</Link>\r\n                        </li>\r\n                })}\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\nexport default DemoRouterUseSearchParam;"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,eAA1B,QAAiD,kBAAjD;;;;AAGA,MAAMC,wBAAwB,GAAG,MAAI;EAAA;;EACjC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACQ,EAAD,EAAKC,KAAL,IAAcT,QAAQ,CAAC,EAAD,CAA5B;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,CAAD,CAAtC,CAHiC,CAMjC;EACA;;EACA,MAAM,CAACY,CAAD,IAAMR,eAAe,EAA3B;EAEAH,SAAS,CAAC,MAAI;IACV;IACA;IACAY,KAAK,CAAC,WAAD,CAAL,CAAmBC,IAAnB,CAAwBC,GAAG,IAAGA,GAAG,CAACC,IAAJ,EAA9B,EAA0CF,IAA1C,CAA+CG,IAAI,IAAG;MAClD,IAAIT,EAAE,GAAGI,CAAC,CAACM,GAAF,CAAM,IAAN,CAAT;;MACA,IAAGV,EAAE,IAAE,IAAP,EAAY;QACRD,QAAQ,CAACU,IAAI,CAACE,MAAL,CAAYC,CAAC,IAAEA,CAAC,CAACC,IAAF,CAAOC,OAAP,CAAed,EAAf,KAAoB,CAAnC,CAAD,CAAR;MACH,CAFD,MAEK;QACDD,QAAQ,CAACU,IAAD,CAAR;MACH;IACJ,CAPD,EAHU,CAYV;EACH,CAbQ,EAaN,CAACT,EAAD,CAbM,CAAT;EAcAP,SAAS,CAAC,MAAI;IACV,IAAIsB,KAAK,GAAGC,UAAU,CAAC,MAAKb,UAAU,CAACD,OAAO,GAAC,CAAT,CAAhB,EAA6B,IAA7B,CAAtB,CADU,CAEV;;IACA,OAAO,MAAI;MACPe,OAAO,CAACC,GAAR,CAAY,uBAAuBC,IAAI,CAACC,MAAL,EAAnC;MACAC,YAAY,CAACN,KAAD,CAAZ;IACH,CAHD;EAIH,CAPQ,CAAT;EAQA,oBACI;IAAA,wBACI;MAAA,wBAAcb,OAAd;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAO,IAAI,EAAC,MAAZ;MAAmB,KAAK,EAAEF,EAA1B;MAA8B,QAAQ,EAAEsB,GAAG,IAAGrB,KAAK,CAACqB,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAnD;MACI,WAAW,EAAC;IADhB;MAAA;MAAA;MAAA;IAAA,QAFJ,eAKI;MAAA,UACK1B,KAAK,CAAC2B,GAAN,CAAUb,CAAC,IAAG;QACX,IAAIc,GAAG,GAAI,UAASd,CAAC,CAACe,EAAG,EAAzB;QACA,oBAAO;UAAA,uBACH,QAAC,IAAD;YAAM,EAAE,EAAED,GAAV;YAAA,UAAgBd,CAAC,CAACC;UAAlB;YAAA;YAAA;YAAA;UAAA;QADG,GAASD,CAAC,CAACe,EAAX;UAAA;UAAA;UAAA;QAAA,QAAP;MAGH,CALA;IADL;MAAA;MAAA;MAAA;IAAA,QALJ;EAAA,gBADJ;AAgBH,CAhDD;;GAAM9B,wB;UAQUD,e;;;KARVC,wB;AAiDN,eAAeA,wBAAf"},"metadata":{},"sourceType":"module"}